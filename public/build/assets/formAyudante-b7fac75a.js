import{o as n,f as a,b as o,d as i,a as u,w as p,i as s,p as r,F as b,Q as m}from"./app-04b634f9.js";import{_ as h}from"./Modal-f8b22e5d.js";import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";const g={class:"modal-container bg-white w-full max-w-md p-7 py-7 rounded-lg z-50 shadow-lg relative"},f={class:"text-black"},w={class:"bg-blue-900 text-white p-7 rounded-lg shadow-lg w-96"},c={class:"flex gap-2 mb-4"},y={class:"flex-1"},I={class:"w-1/4"},M={class:"flex gap-2 mb-4"},k={class:"flex-1"},C={class:"w-1/4"},V={class:"flex gap-2 mb-4"},P={class:"flex-1"},A={class:"flex-1"},x={class:"mb-4"},D={class:"mb-4"},U=["value"],S={name:"Home",props:{message:String},data(){return{showModal:!1,phoneInput:"",rut:"",dv:"",nombre:"",apellidoMaterno:"",apellidoPaterno:"",correo:"",edad:"",SelectInstitucione:[],selectedInstitucion:""}},computed:{formattedPhone(){const l=this.phoneInput.replace(/\D/g,"").match(/^(\d{2})(\d{1})(\d{4})(\d{4})$/);return l?`+${l[1]} ${l[2]} ${l[3]} ${l[4]}`:this.phoneInput}},methods:{openModal(){this.phoneInput="",this.rut="",this.dv="",this.nombre="",this.apellidoMaterno="",this.apellidoPaterno="",this.correo="",this.edad="",this.showModal=!0,this.selectedInstitucion=""},closeModal(){this.showModal=!1},verificarRegistro(){},async register(){const{props:d}=m(),l=d.auth.user.ID_Institucion_usuario;this.selectedInstitucion=l;const e=parseInt(this.phoneInput.replace(/\D/g,""));this.phoneInput=e;try{const t=await axios.post("/api/CreateAyudantes",{Nombre:this.nombre,Apellido_M:this.apellidoMaterno,Apellido_P:this.apellidoPaterno,Edad:this.edad,RUT_ayu:this.rut,DV_ayu:this.dv,Telefono_ayu:this.phoneInput,Correo_ayu:this.correo,Estado_ayudante:1,ID_Institucion_ayu:this.selectedInstitucion});alert("Se a creado un nuevo registrado correctamente")}catch(t){console.error("Error al registrar ayudante:",t)}this.closeModal()},onInput(d){this.phoneInput=d.target.value}}},E=Object.assign(S,{setup(d){return(l,e)=>(n(),a(b,null,[o("button",{onClick:e[0]||(e[0]=(...t)=>l.openModal&&l.openModal(...t)),class:"flex items-center rounded-md bg-blue-600 px-3 py-3 text-sm hover:bg-blue-500 font-semibold text-white space-x-3 m-1"},e[11]||(e[11]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2rem",height:"1.5rem",viewBox:"0 0 24 24"},[o("path",{fill:"currentColor",d:"M12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25z"}),o("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12 1.25C6.063 1.25 1.25 6.063 1.25 12S6.063 22.75 12 22.75S22.75 17.937 22.75 12S17.937 1.25 12 1.25M2.75 12a9.25 9.25 0 1 1 18.5 0a9.25 9.25 0 0 1-18.5 0","clip-rule":"evenodd"})],-1),i(" Agregar ayudante ")])),u(h,{show:l.showModal,onClose:l.closeModal},{default:p(()=>[o("div",g,[o("div",null,[e[13]||(e[13]=o("h1",{class:"text-lg font-bold mb-4"},"Datos del ayudante",-1)),o("button",{onClick:e[1]||(e[1]=(...t)=>l.closeModal&&l.closeModal(...t)),class:"absolute rounded-lg top-6 right-10 text-blue-900 hover:text-red-700",title:"cerrar formulario"},e[12]||(e[12]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-9 w-9",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"2",stroke:"currentColor","stroke-width":"1.5"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10m0-1.2a8.8 8.8 0 1 0 0-17.6a8.8 8.8 0 0 0 0 17.6m.849-8.8l3.11 3.111l-.848.849L12 12.849l-3.111 3.11l-.849-.848L11.151 12l-3.11-3.111l.848-.849L12 11.151l3.111-3.11l.849.848z"})],-1)]))]),o("form",f,[o("div",w,[o("div",c,[o("div",y,[e[14]||(e[14]=o("label",{class:"block mb-1"},"RUT",-1)),s(o("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=t=>l.rut=t),oninput:"if (this.value.length > 8) this.value = this.value.slice(0, 8)",placeholder:"ej.12345678",class:"w-full p-2 border border-gray-300 rounded"},null,512),[[r,l.rut]])]),o("div",I,[e[15]||(e[15]=o("label",{class:"block mb-1"},"D.V",-1)),s(o("input",{title:"Si termima en K coloque 0",type:"number","onUpdate:modelValue":e[3]||(e[3]=t=>l.dv=t),oninput:"if (this.value.length > 1) this.value = this.value.slice(0, 1)",placeholder:"9",class:"w-full p-2 border border-gray-300 rounded"},null,512),[[r,l.dv]])])]),o("div",M,[o("div",k,[e[16]||(e[16]=o("label",{class:"block mb-1"},"Nombre ",-1)),s(o("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>l.nombre=t),placeholder:"Nombre",class:"w-full p-2 border border-gray-300 rounded"},null,512),[[r,l.nombre]])]),o("div",C,[e[17]||(e[17]=o("label",{class:"block mb-1"},"Edad:",-1)),s(o("input",{type:"number","onUpdate:modelValue":e[5]||(e[5]=t=>l.edad=t),oninput:"if (this.value.length > 2) this.value = this.value.slice(0, 2)",placeholder:"Edad",class:"w-full p-2 border border-gray-300 rounded"},null,512),[[r,l.edad]])])]),o("div",V,[o("div",P,[e[18]||(e[18]=o("label",{class:"block mb-1"},"Apellido Materno",-1)),s(o("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=t=>l.apellidoMaterno=t),placeholder:"Apellido M.",class:"w-full p-2 border border-gray-300 rounded"},null,512),[[r,l.apellidoMaterno]])]),o("div",A,[e[19]||(e[19]=o("label",{class:"block mb-1"},"Apellido Paterno",-1)),s(o("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=t=>l.apellidoPaterno=t),placeholder:"Apellido P.",class:"w-full p-2 border border-gray-300 rounded"},null,512),[[r,l.apellidoPaterno]])])]),o("div",x,[e[20]||(e[20]=o("label",{class:"block mb-1"},"Correo",-1)),s(o("input",{type:"email","onUpdate:modelValue":e[8]||(e[8]=t=>l.correo=t),placeholder:"ejemplo.@gmail.com",class:"w-full p-2 border border-gray-300 rounded"},null,512),[[r,l.correo]])]),o("div",D,[e[21]||(e[21]=o("label",{class:"block mb-1"},"Telefono",-1)),o("input",{type:"tel",value:l.formattedPhone,onInput:e[9]||(e[9]=(...t)=>l.onInput&&l.onInput(...t)),oninput:"if (this.value.length > 15) this.value = this.value.slice(0, 15)",placeholder:"+56 9 1111 1111",class:"w-full p-2 border border-gray-300 rounded"},null,40,U)]),o("button",{onClick:e[10]||(e[10]=(...t)=>l.register&&l.register(...t)),class:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 rounded"}," Registrarse ")])])])]),_:1},8,["show","onClose"])],64))}}),B=v(E,[["__scopeId","data-v-69bd2446"]]);export{B as m};
