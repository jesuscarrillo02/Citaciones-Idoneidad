import{o as i,f as r,a as l,u as h,w as d,F as c,q as p,Z as y,b as t,i as m,p as x,d as _,t as n,g as b,l as g,j as f,n as u}from"./app-04b634f9.js";import{_ as w}from"./AuthenticatedLayout-6eed8f97.js";import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";import"./ApplicationLogo-2fe1fc7a.js";const I={class:"py-5"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-9"},D={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg flex items-center"},M={class:"w-full bg-blue-900 mx-auto p-5"},k={class:"mb-4 flex items-center"},E={class:"font-semibold text-xl py-3 px-4 text-gray-800 dark:text-gray-200 leading-tight"},N={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg flex items-center"},L={class:"w-full bg-white border border-black-200 rounded-lg shadow-md"},P={class:"text-gray-600 text-sm font-light"},C={key:0,class:"border-b border-gray-200 hover:bg-gray-100"},B={class:"py-3 px-3 text-left"},H={class:"py-3 px-3 text-left"},V={class:"py-3 px-3 text-left"},F={class:"py-3 px-3 text-left"},S={class:"py-3 px-3 text-left"},U={class:"py-3 px-2 text-center"},z={class:"py-3 px-2 text-center"},Z=["title"],j={key:0},R={key:1},T={class:"flex items-center py-4 ml-auto"},$=["onClick"],q={name:"Home",props:{message:String},data(){return{showModal:!1,phoneInput:"",CitacionesAyud:[],search:"",currentPage:1,IDInstitucion_ayudantes:"",institutionName:""}},mounted(){const o=new URLSearchParams(window.location.search);this.IDInstitucion_ayudantes=o.get("institu_pert"),this.getInstituciones(),this.fetchData()},methods:{async fetchData(o=1){const s=await p.get("/api/Citaciones_psi",{params:{IDAyudantes_per:this.IDInstitucion_ayudantes,search:this.search,page:o}});this.CitacionesAyud=s.data,this.currentPage=o},async getInstituciones(){await p.get("/api/ListaInstitucionesActual",{params:{institutionId:this.IDInstitucion_ayudantes}}).then(o=>{this.institutionName=o.data.Nombre_inst,console.log(this.institutionName)}).catch(o=>{console.error("Hubo un error al obtener las instituciones:",o)})},alertMessage(){alert("Inertia y Vue estÃ¡n funcionando correctamente!")},openModal(){this.showModal=!0},closeModal(){this.showModal=!1},register(){alert("Registrado correctamente"),this.closeModal()},onInput(o){this.phoneInput=o.target.value},changePage(o){o!==this.currentPage&&this.fetchData(o)},formatFecha(o){const s={year:"numeric",month:"2-digit",day:"2-digit"};return new Date(o).toLocaleDateString("es-ES",s)}}},O=Object.assign(q,{setup(o){return(s,a)=>(i(),r(c,null,[l(h(y),{title:"Dashboard"}),l(w,null,{header:d(()=>a[3]||(a[3]=[t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Institutos Educativos > Ayudantes a Docentes > citaciones ",-1)])),default:d(()=>[t("div",I,[t("div",A,[t("div",D,[t("div",M,[t("div",k,[m(t("input",{type:"text",placeholder:"Buscar ayudante...",class:"p-3 rounded-lg border-2 border-purple-500 bg-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500","onUpdate:modelValue":a[0]||(a[0]=e=>s.search=e),onInput:a[1]||(a[1]=(...e)=>s.fetchData&&s.fetchData(...e))},null,544),[[x,s.search]]),t("div",null,[t("h1",E,[a[4]||(a[4]=_(" Ayudantes del instituto ")),t("strong",null,n(s.institutionName),1)])])]),t("div",N,[t("table",L,[a[9]||(a[9]=t("thead",null,[t("tr",{class:"bg-gray-300 text-gray-700 uppercase text-sm leading-normal"},[t("th",{class:"py-3 px-3 text-left"},"Usuario Encargado"),t("th",{class:"py-3 px-3 text-left"},"Institucion"),t("th",{class:"py-3 px-3 text-left"},"Ayudante Citado"),t("th",{class:"py-3 px-3 text-left"},"Ubicacion de cita"),t("th",{class:"py-3 px-3 text-center"},"Fecha de cita"),t("th",{class:"py-3 px-3 text-center"},"Estado de cita"),t("th",{class:"py-3 px-3 text-center"},"Acciones")])],-1)),t("tbody",P,[s.CitacionesAyud.data&&s.CitacionesAyud.data.length===0?(i(),r("tr",C,a[5]||(a[5]=[t("td",{colspan:"5",class:"py-3 px-3 text-center text-gray-900"},[t("h1",null,"No se Han hecho citaciones en esta institucion")],-1)]))):b("",!0),(i(!0),r(c,null,g(s.CitacionesAyud.data,e=>(i(),r("tr",{key:e.id,class:"border-b border-gray-200 hover:bg-gray-100"},[t("td",B,n(e.usuario_encargado.name),1),t("td",H,n(e.institucion_asociada.Nombre_inst),1),t("td",V,n(e.ayudante_citado.Nombre)+" "+n(e.ayudante_citado.Apellido_M)+" "+n(e.ayudante_citado.Apellido_P),1),t("td",F,n(e.Ubicacion_cita),1),t("td",S,n(s.formatFecha(e.Fecha_citacion)),1),t("td",U,[t("span",{class:u([e.Estado_citacion?"bg-green-200 text-green-700":"bg-red-200 text-red-700","py-1 px-3 rounded-full text-xs"])},n(e.Estado_citacion?"En curso":"cerrada"),3)]),t("td",z,[a[8]||(a[8]=t("button",{title:"Editar ayudante",class:"px-2 text-yellow-600 hover:text-yellow-400"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M5 18h4.24a1 1 0 0 0 .71-.29l6.92-6.93L19.71 8a1 1 0 0 0 0-1.42l-4.24-4.29a1 1 0 0 0-1.42 0l-2.82 2.83l-6.94 6.93a1 1 0 0 0-.29.71V17a1 1 0 0 0 1 1m9.76-13.59l2.83 2.83l-1.42 1.42l-2.83-2.83ZM6 13.17l5.93-5.93l2.83 2.83L8.83 16H6ZM21 20H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2"})])],-1)),t("button",{class:u([e.Estado_citacion?"text-green-700 hover:text-green-500":"text-red-700 hover:text-red-500","px-1"]),title:e.Estado_citacion?"desactivar ayudante":"activar ayudante"},[e.Estado_citacion?(i(),r("span",j,a[6]||(a[6]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M21.1 12.5l1.4 1.41l-6.53 6.59L12.5 17l1.4-1.41l2.07 2.08zM10 17l3 3H3v-2c0-2.21 3.58-4 8-4l1.89.11zm1-13a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4"})],-1)]))):(i(),r("span",R,a[7]||(a[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M12 4a4 4 0 0 1 4 4c0 1.95-1.4 3.58-3.25 3.93L8.07 7.25A4.004 4.004 0 0 1 12 4m.28 10l6 6L20 21.72L18.73 23l-3-3H4v-2c0-1.84 2.5-3.39 5.87-3.86L2.78 7.05l1.27-1.27zM20 18v1.18l-4.86-4.86C18 14.93 20 16.35 20 18"})],-1)])))],10,Z)])]))),128))])])]),t("div",T,[l(h(f),{href:s.route("AyudantesPsi",{institutionId:s.IDInstitucion_ayudantes})},{default:d(()=>[t("button",{onClick:a[2]||(a[2]=(...e)=>s.redirigir&&s.redirigir(...e)),class:"rounded-md bg-blue-600 px-6 py-3 text-sm hover:bg-blue-500 font-semibold text-white"}," volver ")]),_:1},8,["href"]),(i(!0),r(c,null,g(s.CitacionesAyud.last_page,e=>(i(),r("button",{onClick:G=>s.changePage(e),key:e,class:u(["px-4 py-2 border rounded mx-1 ml-auto",{"bg-blue-500 text-white":s.CitacionesAyud.current_page===e}])},n(e),11,$))),128))])])])])])]),_:1})],64))}}),X=v(O,[["__scopeId","data-v-a542b960"]]);export{X as default};
