import{_ as h}from"./AuthenticatedLayout-6eed8f97.js";import{o as n,f as r,b as e,d as m,t as o,i as y,p as x,a as i,w as d,u as p,j as f,g as c,F as g,l as v,n as u,Q as w,Z as _}from"./app-04b634f9.js";import{m as P}from"./formAyudante-b7fac75a.js";import{_ as b}from"./_plugin-vue_export-helper-c27b6911.js";import"./ApplicationLogo-2fe1fc7a.js";import"./Modal-f8b22e5d.js";const I={class:"mx-auto bg-blue-900 shadow-sm sm:rounded-lg sm:px-7 lg:px-7"},A={class:"font-semibold text-xl py-3 text-gray-800 dark:text-gray-200 leading-tight"},k={class:"mb-4 flex items-center"},M={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},$={class:"w-full bg-white border border-black-200 rounded-lg shadow-md"},C={class:"text-gray-600 text-sm font-light"},N={key:0,class:"border-b border-gray-200 hover:bg-gray-100"},D={class:"py-3 px-3 text-left"},L={class:"py-3 px-3 text-left"},E={class:"py-3 px-3 text-left"},T={class:"py-3 px-3 text-left"},V={class:"py-3 px-6 text-left"},j={class:"py-3 px-3 text-left"},B={class:"py-3 px-3 text-center"},H={class:"py-3 px-2 text-center"},z=["title"],R={key:0},S={key:1},F={class:"flex items-center py-4"},U={class:"flex justify-between items-center ml-auto"},Z={class:"flex justify-between items-center ml-auto"},O=["disabled"],Q={class:"px-3 text-white"},q=["disabled"],G={name:"Home",props:{message:String},data(){return{currentPage:1,totalPages:1,search:"",ayudantesPsi:[],IDInstitucion_ayudantes:null,estadoTabla:1,institutionName:""}},computed:{filterAyudantesPsi(){return this.ayudantesPsi.filter(a=>a.Nombre.toLowerCase().includes(this.search.toLowerCase()))}},mounted(){const{props:a}=w(),s=a.auth.user.ID_Institucion_usuario;this.IDInstitucion_ayudantes=s,this.getInstituciones(),this.getAyudantesPsi()},methods:{cargaTabla(){console.log("se entra a c.t.")},async getAyudantesPsi(a=1){await axios.get("/api/Ayudantes_edu",{params:{search:this.search,page:a,IDInstitucion:this.IDInstitucion_ayudantes}}).then(s=>{this.ayudantesPsi=s.data,this.currentPage=s.data.current_page,this.totalPages=s.data.last_page}).catch(s=>{console.error("Hubo un error al obtener las instituciones:",s)})},async getInstituciones(){await axios.get("/api/ListaInstitucionesActual",{params:{institutionId:this.IDInstitucion_ayudantes}}).then(a=>{this.institutionName=a.data.Nombre_inst}).catch(a=>{console.error("Hubo un error al obtener las instituciones:",a)})},prevPage(){this.currentPage>1&&this.getAyudantesPsi(this.currentPage-1)},nextPage(){this.currentPage<this.totalPages&&this.getAyudantesPsi(this.currentPage+1)}}},J=Object.assign(G,{setup(a){return(s,t)=>(n(),r("div",I,[e("div",null,[e("h1",A,[t[4]||(t[4]=m(" Ayudantes del instituto ")),e("strong",null,o(s.institutionName),1)])]),e("div",k,[y(e("input",{type:"text",placeholder:"Buscar Ayudante...","onUpdate:modelValue":t[0]||(t[0]=l=>s.search=l),onInput:t[1]||(t[1]=(...l)=>s.getAyudantesPsi&&s.getAyudantesPsi(...l)),class:"p-3 rounded-lg border-2 border-purple-500 bg-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500"},null,544),[[x,s.search]]),i(p(f),{href:s.route("CitacionesPendientes"),class:"ml-auto"},{default:d(()=>t[5]||(t[5]=[e("button",{class:"rounded-md bg-blue-600 px-3 py-3 text-sm hover:bg-blue-500 font-semibold text-white"}," Ver citaciones ",-1)])),_:1},8,["href"]),i(P)]),e("div",M,[e("table",$,[t[10]||(t[10]=e("thead",null,[e("tr",{class:"bg-gray-300 text-gray-700 uppercase text-sm leading-normal"},[e("th",{class:"py-3 px-3 text-left"},"R.U.T"),e("th",{class:"py-3 px-3 text-left"},"Nombre"),e("th",{class:"py-3 px-3 text-left"},"Apellido M."),e("th",{class:"py-3 px-3 text-left"},"Apellido P."),e("th",{class:"py-3 px-6 text-left"},"Email"),e("th",{class:"py-3 px-3 text-left"},"Teléfono"),e("th",{class:"py-3 px-3 text-center"},"Estado"),e("th",{class:"py-3 px-3 text-center"},"Acción")])],-1)),e("tbody",C,[s.ayudantesPsi.data&&s.ayudantesPsi.data.length===0?(n(),r("tr",N,t[6]||(t[6]=[e("td",{colspan:"8",class:"py-3 px-3 text-center text-gray-900"},[e("h1",null,"No se encontró ningún registro")],-1)]))):c("",!0),(n(!0),r(g,null,v(s.ayudantesPsi.data,l=>(n(),r("tr",{key:l.id,class:"border-b border-gray-200 hover:bg-gray-100"},[e("td",D,o(l.RUT_ayu)+"-"+o(l.DV_ayu),1),e("td",L,o(l.Nombre),1),e("td",E,o(l.Apellido_M),1),e("td",T,o(l.Apellido_P),1),e("td",V,o(l.Correo_ayu),1),e("td",j,o(l.Telefono_ayu),1),e("td",B,[e("span",{class:u([l.Estado_ayudante?"bg-green-200 text-green-700":"bg-red-200 text-red-700","py-1 px-3 rounded-full text-xs"])},o(l.Estado_ayudante?"Activo":"Inactivo"),3)]),e("td",H,[t[9]||(t[9]=e("button",{title:"Editar ayudante",class:"px-2 text-yellow-600 hover:text-yellow-400"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M5 18h4.24a1 1 0 0 0 .71-.29l6.92-6.93L19.71 8a1 1 0 0 0 0-1.42l-4.24-4.29a1 1 0 0 0-1.42 0l-2.82 2.83l-6.94 6.93a1 1 0 0 0-.29.71V17a1 1 0 0 0 1 1m9.76-13.59l2.83 2.83l-1.42 1.42l-2.83-2.83ZM6 13.17l5.93-5.93l2.83 2.83L8.83 16H6ZM21 20H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2"})])],-1)),e("button",{class:u([l.Estado_ayudante?"text-green-700 hover:text-green-500":"text-red-700 hover:text-red-500","px-1"]),title:l.Estado_ayudante?"desactivar ayudante":"activar ayudante"},[l.Estado_ayudante?(n(),r("span",R,t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M21.1 12.5l1.4 1.41l-6.53 6.59L12.5 17l1.4-1.41l2.07 2.08zM10 17l3 3H3v-2c0-2.21 3.58-4 8-4l1.89.11zm1-13a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4"})],-1)]))):(n(),r("span",S,t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5rem",height:"1.5rem",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 4a4 4 0 0 1 4 4c0 1.95-1.4 3.58-3.25 3.93L8.07 7.25A4.004 4.004 0 0 1 12 4m.28 10l6 6L20 21.72L18.73 23l-3-3H4v-2c0-1.84 2.5-3.39 5.87-3.86L2.78 7.05l1.27-1.27zM20 18v1.18l-4.86-4.86C18 14.93 20 16.35 20 18"})],-1)])))],10,z)])]))),128))])])]),e("div",F,[e("div",U,[e("div",Z,[e("button",{onClick:t[2]||(t[2]=(...l)=>s.prevPage&&s.prevPage(...l)),disabled:s.currentPage===1,class:"bg-blue-500 text-white px-2 py-2 rounded hover:bg-blue-600"}," Anterior ",8,O),e("span",Q,"Mostrando página "+o(s.currentPage)+" de "+o(s.totalPages),1),e("button",{onClick:t[3]||(t[3]=(...l)=>s.nextPage&&s.nextPage(...l)),disabled:s.currentPage===s.totalPages,class:"bg-blue-500 text-white px-2 py-2 rounded hover:bg-blue-600"}," Siguiente ",8,q)])])])]))}}),K=b(J,[["__scopeId","data-v-49d4c136"]]);const W={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},X={class:"py-5"},Y={class:"max-w-7xl mx-auto sm:px-6 lg:px-9"},ee={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg flex items-center"},te={class:"w-full bg-white mx-auto p-5"},se={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-50"},le={class:"modal-container bg-white w-full max-w-md p-6 rounded-lg shadow-lg relative"},ae={class:"text-black"},oe={class:"bg-blue-900 text-white p-7 rounded-lg shadow-lg w-96"},ne={class:"mb-4"},re=["value"],ie={name:"Home",props:{message:String},data(){return{showModal:!1,phoneInput:"",searchAyudante:""}},computed:{formattedPhone(){const s=this.phoneInput.replace(/\D/g,"").match(/^(\+?(\d{2}))?(\d{4})(\d{4})$/);return s?`+${s[1]||""}-${s[3]}-${s[4]}`:this.phoneInput}},methods:{alertMessage(){alert("Inertia y Vue están funcionando correctamente!")},openModal(){this.showModal=!0},closeModal(){this.showModal=!1},register(){alert("Registrado correctamente"),this.closeModal()},onInput(a){this.phoneInput=a.target.value}}},de=Object.assign(ie,{setup(a){return(s,t)=>(n(),r(g,null,[i(p(_),{title:"Dashboard"}),i(h,null,{header:d(()=>[e("h2",W,"Ayudantes del instituto "+o(s.$page.props.auth.user.ID_Institucion_usuario),1)]),default:d(()=>[e("div",X,[e("div",Y,[e("div",ee,[e("div",te,[i(K)])])])]),s.showModal?(n(),r("div",se,[e("div",le,[e("div",null,[t[4]||(t[4]=e("h1",{class:"text-lg font-bold mb-4"},"Datos del ayudante",-1)),e("button",{onClick:t[0]||(t[0]=(...l)=>s.closeModal&&s.closeModal(...l)),class:"absolute top-6 right-10 text-black-500 hover:text-black-700",title:"cerrar formulario"},t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",width:"1em",height:"1em",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",fill:"currentColor",fillRule:"evenodd",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10m0-1.2a8.8 8.8 0 1 0 0-17.6a8.8 8.8 0 0 0 0 17.6m.849-8.8l3.11 3.111l-.848.849L12 12.849l-3.111 3.11l-.849-.848L11.151 12l-3.11-3.111l.848-.849L12 11.151l3.111-3.11l.849.848z"})],-1)]))]),e("form",ae,[e("div",oe,[t[6]||(t[6]=e("div",{class:"flex gap-2 mb-4"},[e("div",{class:"flex-1"},[e("label",{class:"block mb-1"},"RUT"),e("input",{type:"number",oninput:"if (this.value.length > 8) this.value = this.value.slice(0, 8)",placeholder:"ej.12345678",class:"w-full p-2 border border-gray-300 rounded"})]),e("div",{class:"w-1/4"},[e("label",{class:"block mb-1"},"D.V"),e("input",{type:"number",oninput:"if (this.value.length > 1) this.value = this.value.slice(0, 1)",maxlength:"9",placeholder:"9",class:"w-full p-2 border border-gray-300 rounded"})])],-1)),t[7]||(t[7]=e("div",{class:"mb-4"},[e("label",{class:"block mb-1"},"Nombre"),e("input",{type:"text",placeholder:"Nombre",class:"w-full p-2 border border-gray-300 rounded"})],-1)),t[8]||(t[8]=e("div",{class:"flex gap-2 mb-4"},[e("div",{class:"flex-1"},[e("label",{class:"block mb-1"},"Apellido Materno"),e("input",{type:"text",placeholder:"Apellido M.",class:"w-full p-2 border border-gray-300 rounded"})]),e("div",{class:"flex-1"},[e("label",{class:"block mb-1"},"Apellido Paterno"),e("input",{type:"text",placeholder:"Apellido P.",class:"w-full p-2 border border-gray-300 rounded"})])],-1)),t[9]||(t[9]=e("div",{class:"mb-6"},[e("fieldset",null,[e("label",{class:"block mb-1"},"Sexo"),e("div",{class:"flex items-center gap-4"},[e("label",{class:"flex items-center"},[e("input",{type:"radio",name:"sexo",value:"Masculino"}),e("span",{class:"ml-2"},"Masculino")]),e("label",{class:"flex items-center"},[e("input",{type:"radio",name:"sexo",value:"Femenino"}),e("span",{class:"ml-2"},"Femenino")]),e("label",{class:"flex items-center"},[e("input",{type:"radio",name:"sexo",value:"N/A"}),e("span",{class:"ml-2"},"N/A")])])])],-1)),t[10]||(t[10]=e("div",{class:"mb-4"},[e("label",{class:"block mb-1"},"Correo"),e("input",{type:"email",placeholder:"ejemplo.@gmail.com",class:"w-full p-2 border border-gray-300 rounded"})],-1)),e("div",ne,[t[5]||(t[5]=e("label",{class:"block mb-1"},"Telefono",-1)),e("input",{type:"tel",value:s.formattedPhone,onInput:t[1]||(t[1]=(...l)=>s.onInput&&s.onInput(...l)),oninput:"if (this.value.length > 13) this.value = this.value.slice(0, 13)",placeholder:"+56 1111 1111",class:"w-full p-2 border border-gray-300 rounded"},null,40,re)]),e("button",{onClick:t[2]||(t[2]=(...l)=>s.register&&s.register(...l)),class:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 rounded"}," Registrarse ")])])])])):c("",!0)]),_:1})],64))}}),me=b(de,[["__scopeId","data-v-ab7c53bd"]]);export{me as default};
