import{_ as h}from"./AuthenticatedLayout-6eed8f97.js";import{o as n,f as i,b as t,i as g,p as _,F as r,l as c,n as b,t as f,a as d,w as l,u as p,j as y,Z as x}from"./app-04b634f9.js";import{_ as w}from"./_plugin-vue_export-helper-c27b6911.js";import"./ApplicationLogo-2fe1fc7a.js";const v={class:"mb-4"},I={key:0},k={class:"flex justify-between items-center"},$={class:"flex space-x-4"},C={key:1,class:"bg-white rounded-lg shadow-md mb-4 p-4"},D={name:"instituciones",props:{message:String},data(){return{showModal:!1,search:"",phoneInput:"",instituciones:[],institutionFields:[{key:"nombre",bgColor:"bg-blue-700"},{key:"direccion",bgColor:"bg-blue-900"},{key:"comuna",bgColor:"bg-blue-500"}]}},mounted(){this.getInstituciones()},methods:{async getInstituciones(){await axios.get("/api/instituciones",{params:{search:this.search}}).then(o=>{this.instituciones=o.data.map(e=>({id:e.id,nombre:e.Nombre_inst,direccion:e.Direccion,comuna:e.Comuna}))}).catch(o=>{console.error("Hubo un error al obtener las instituciones:",o)})}},computed:{filteredInstituciones(){return this.instituciones.filter(o=>o.nombre.toLowerCase().includes(this.search.toLowerCase()))},formattedPhone(){const e=this.phoneInput.replace(/\D/g,"").match(/^(\+?(\d{2}))?(\d{4})(\d{4})$/);return e?`+${e[1]||""}-${e[3]}-${e[4]}`:this.phoneInput}}},j=Object.assign(D,{setup(o){return(e,s)=>(n(),i(r,null,[s[3]||(s[3]=t("div",null,null,-1)),t("div",v,[g(t("input",{type:"text",placeholder:"Buscar instituto...",class:"p-3 rounded-lg border-2 border-purple-500 bg-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500","onUpdate:modelValue":s[0]||(s[0]=a=>e.search=a)},null,512),[[_,e.search]])]),e.filteredInstituciones.length>0?(n(),i("div",I,[(n(!0),i(r,null,c(e.filteredInstituciones,a=>(n(),i("div",{key:a.id,class:"bg-white rounded-lg shadow-md mb-4 p-4"},[t("div",k,[t("div",$,[(n(!0),i(r,null,c(e.institutionFields,(u,m)=>(n(),i("span",{key:m,class:b([u.bgColor,"text-white py-2 px-4 rounded-md shadow-md"])},f(a[u.key]),3))),128))]),d(p(y),{href:e.route("AyudantesPsi",{institutionId:a.id})},{default:l(()=>s[1]||(s[1]=[t("button",{class:"bg-blue-900 text-white py-2 px-4 rounded-md shadow-md hover:bg-blue-800"}," Revisar institución ",-1)])),_:2},1032,["href"])])]))),128))])):(n(),i("div",C,s[2]||(s[2]=[t("p",{class:"text-center"},"No se encontraron instituciones que coincidan con tu búsqueda.",-1)])))],64))}}),B=w(j,[["__scopeId","data-v-242748af"]]),F={class:"py-5"},N={class:"max-w-7xl mx-auto sm:px-6 lg:px-9"},L={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg flex items-center"},S={class:"w-full bg-gray-800 mx-auto p-5"},T={name:"instituciones",props:{message:String}},O=Object.assign(T,{setup(o){return(e,s)=>(n(),i(r,null,[d(p(x),{title:"Dashboard"}),d(h,null,{header:l(()=>s[0]||(s[0]=[t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Institutos Educativos",-1)])),default:l(()=>[t("div",F,[t("div",N,[t("div",L,[t("div",S,[d(B)])])])])]),_:1})],64))}});export{O as default};
