import{o as i,f as r,a as d,u,w as l,F as c,Q as y,q as p,Z as m,b as t,i as _,p as x,d as f,t as n,g as b,l as h,j as I,n as g}from"./app-04b634f9.js";import{_ as v}from"./AuthenticatedLayout-6eed8f97.js";import{_ as w}from"./_plugin-vue_export-helper-c27b6911.js";import"./ApplicationLogo-2fe1fc7a.js";const D={class:"py-5"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-9"},k={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg flex items-center"},N={class:"w-full bg-blue-900 mx-auto p-5"},C={class:"mb-4 flex items-center"},M={class:"font-semibold text-xl py-3 px-4 text-gray-800 dark:text-gray-200 leading-tight"},P={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg flex items-center"},E={class:"w-full bg-white border border-black-200 rounded-lg shadow-md"},F={class:"text-gray-600 text-sm font-light"},V={key:0,class:"border-b border-gray-200 hover:bg-gray-100"},B={class:"py-3 px-3 text-left"},S={class:"py-3 px-3 text-left"},L={class:"py-3 px-3 text-left"},U={class:"py-3 px-3 text-center"},j={class:"py-3 px-2 text-center"},H={class:"flex items-center py-4 ml-auto"},T=["onClick"],$={name:"Home",props:{message:String},data(){return{showModal:!1,phoneInput:"",CitacionesAyud:[],search:"",IDInstitucion_ayudantes:"",currentPage:1,institutionName:""}},mounted(){const{props:a}=y(),e=a.auth.user.ID_Institucion_usuario;this.IDInstitucion_ayudantes=e,this.getInstituciones(),this.fetchData()},methods:{alertMessage(){alert("Inertia y Vue están funcionando correctamente!")},openModal(){this.showModal=!0},closeModal(){this.showModal=!1},register(){alert("Registrado correctamente"),this.closeModal()},onInput(a){this.phoneInput=a.target.value},async fetchData(a=1){const e=await p.get("/api/Citaciones_psi",{params:{IDAyudantes_per:this.IDInstitucion_ayudantes,search:this.search,page:a}});this.CitacionesAyud=e.data,this.currentPage=a},async getInstituciones(){await p.get("/api/ListaInstitucionesActual",{params:{institutionId:this.IDInstitucion_ayudantes}}).then(a=>{this.institutionName=a.data.Nombre_inst}).catch(a=>{console.error("Hubo un error al obtener las instituciones:",a)})},changePage(a){a!==this.currentPage&&this.fetchData(a)},formatFecha(a){const e={year:"numeric",month:"2-digit",day:"2-digit"};return new Date(a).toLocaleDateString("es-ES",e)}}},q=Object.assign($,{setup(a){return(e,o)=>(i(),r(c,null,[d(u(m),{title:"Dashboard"}),d(v,null,{header:l(()=>o[3]||(o[3]=[t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Institutos Educativos > citaciones de los ayudantes",-1)])),default:l(()=>[t("div",D,[t("div",A,[t("div",k,[t("div",N,[t("div",C,[_(t("input",{type:"text",placeholder:"Buscar ayudante...",class:"p-3 rounded-lg border-2 border-purple-500 bg-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500","onUpdate:modelValue":o[0]||(o[0]=s=>e.search=s),onInput:o[1]||(o[1]=(...s)=>e.fetchData&&e.fetchData(...s))},null,544),[[x,e.search]]),t("h1",M,[o[4]||(o[4]=f(" Ayudantes del instituto ")),t("strong",null,n(e.institutionName),1)])]),t("div",P,[t("table",E,[o[6]||(o[6]=t("thead",null,[t("tr",{class:"bg-gray-300 text-gray-700 uppercase text-sm leading-normal"},[t("th",{class:"py-3 px-3 text-left"},"Psicologo encargado"),t("th",{class:"py-3 px-3 text-left"},"Ayudante Citado"),t("th",{class:"py-3 px-3 text-left"},"Ubicacion de cita"),t("th",{class:"py-3 px-3 text-center"},"Fecha de cita"),t("th",{class:"py-3 px-3 text-center"},"Estado de cita")])],-1)),t("tbody",F,[e.CitacionesAyud.data&&e.CitacionesAyud.data.length===0?(i(),r("tr",V,o[5]||(o[5]=[t("td",{colspan:"5",class:"py-3 px-3 text-center text-gray-900"},[t("h1",null,"No se encontró ningún registro")],-1)]))):b("",!0),(i(!0),r(c,null,h(e.CitacionesAyud.data,s=>(i(),r("tr",{key:s.id,class:"border-b border-gray-200 hover:bg-gray-100"},[t("td",B,n(s.usuario_encargado.name),1),t("td",S,n(s.ayudante_citado.Nombre)+" "+n(s.ayudante_citado.Apellido_M)+" "+n(s.ayudante_citado.Apellido_P),1),t("td",L,n(s.Ubicacion_cita),1),t("td",U,n(e.formatFecha(s.Fecha_citacion)),1),t("td",j,[t("span",{class:g([s.Estado_citacion?"bg-green-200 text-green-700":"bg-red-200 text-red-700","py-1 px-3 rounded-full text-xs"])},n(s.Estado_citacion?"En curso":"cerrada"),3)])]))),128))])])]),t("div",H,[d(u(I),{href:e.route("AyudantesEdu")},{default:l(()=>[t("button",{onClick:o[2]||(o[2]=(...s)=>e.redirigir&&e.redirigir(...s)),class:"rounded-md bg-blue-600 px-6 py-3 text-sm hover:bg-blue-500 font-semibold text-white"}," volver ")]),_:1},8,["href"]),(i(!0),r(c,null,h(e.CitacionesAyud.last_page,s=>(i(),r("button",{onClick:z=>e.changePage(s),key:s,class:g(["px-4 py-2 border rounded mx-1 ml-auto",{"bg-blue-500 text-white":e.CitacionesAyud.current_page===s}])},n(s),11,T))),128))])])])])])]),_:1})],64))}}),G=w(q,[["__scopeId","data-v-f9e731d7"]]);export{G as default};
